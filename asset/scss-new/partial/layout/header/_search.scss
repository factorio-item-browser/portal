/**
 * File defining the style of the search input field.
 *
 * @author BluePsyduck <bluepsyduck@gmx.com>
 * @license http://opensource.org/licenses/GPL-3.0 GPL v3
 */

@import '../../../module/all';

.header-search {
    @include flex-item($grow: 1);
    @include dynamic-spacing(margin, default);

    position: relative;
}

body.index-page .header-search {
    display: block;
    margin: $spacing-huge auto;
    max-width: 64rem;
}

.header-search-input {
    @include transition-default(opacity);

    border: 0;
    border-radius: 0;
    box-shadow: $shadow-box;
    box-sizing: border-box;
    font-size: $size-header-search-text;
    opacity: $alpha-input-default;
    padding: $spacing-default (2 * $spacing-default + $size-header-search-text);
    width: 100%;

    &:hover, &:active, &:focus {
        opacity: $alpha-input-focused;
    }
}

.header-search-box-icon {
    @include font-icon($fa-var-search, $size-header-search-text);

    opacity: $alpha-input-default;
    padding: ($spacing-default + $spacing-tiny);
    pointer-events: none;
    position: absolute;
    z-index: $zIndex-icon;

    &.loading {
        @include font-icon($fa-var-spinner, $size-header-search-text);

        animation: fa-spin 2s infinite linear;
    }
}


.header-search-box-close-icon {
    @include font-icon($fa-var-times, $size-header-search-text);
    @include transition-default(opacity);

    cursor: pointer;
    opacity: $alpha-input-default;
    padding: ($spacing-default + $spacing-tiny);
    position: absolute;
    right: 0;
    top: 0;
    z-index: $zIndex-icon;

    &:hover {
        opacity: $alpha-input-focused;
    }

    @include breakpoint(large) {
        display: none;
    }
}

.header-search-icon {
    @include flex-item($shrink: 1);
    @include font-icon($fa-var-search, $size-header-search-text);

    color: white;
    cursor: pointer;
    font-weight: bold;
    opacity: $alpha-input-default;
    padding: $spacing-default;
    position: relative;
    text-align: center;
    text-shadow: $shadow-text;

    &:hover, &:active, &:focus {
        color: white;
        opacity: $alpha-input-focused;
    }

    @include breakpoint(large) {
        display: none;
    }

    label {
        display: none;
    }
}

body.index-page .header-search-icon, body.index-page .header-search-box-close-icon {
    display: none;
}

// Toggle the header with the hidden checkbox.
body:not(.index-page) #toggle-search-box:checked ~ .header-logo,
body:not(.index-page) #toggle-search-box:checked ~ .header-search-icon,
body:not(.index-page) #toggle-search-box:checked ~ .header-sidebar-icon,
body:not(.index-page) #toggle-search-box:not(:checked) ~ .header-search {
    @include breakpoint-until(large) {
        display: none;
    }
}